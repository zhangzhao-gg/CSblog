# 从创业到工业界：高并发语音系统的优化

目前，我在南京一家人工智能体公司实习，负责大模型呼入系统。我深度参与了高并发语音系统的优化与重构，这段经历让我对工业级系统有了更深入的理解。

---

## 系统重构中的思考

### 微服务重构的原则

原有基于 Python 的语音检测服务存在 GIL（全局解释器锁）问题，导致多线程实际上是“伪多线程”，同一时间只有一个线程在执行。虽然保证了线程安全，但也严重限制了性能。我们公司每天需处理一百多万个连接，上千万甚至上亿的语音包，原有架构明显成为性能瓶颈。

我负责将语音检测服务用 Go 语言重构，以替代原有的 Python 实现，编写真正的高并发服务。主要工作包括：

1. **Rnnoise 语音去噪模型迁移**  
   - Rnnoise 是一个基于 RNN 的轻量级音频去噪模型，原使用 ONNX Runtime 的 C 库并通过 Python 封装调用。
   - 我探索使用 Go 编写 CGO 调用 ONNX Runtime 包，并实现高效推理接口。

2. **Silero-VAD 语音活动检测模型重构**  
   - 社区已有 Go 语言实现，但接口不符合实际业务需求。
   - 我重新封装接口，使其适配高并发业务场景。

3. **性能测试与报告**  
   - 实测 Go 并发服务的实际表现，评估业务效率提升。
   - 撰写总结报告，为团队提供重构效益分析。

---

## 性能监控与调优

我们引入了全链路监控系统，实时追踪每个请求在各服务中的处理状态。通过监控数据的分析，发现了多个性能瓶颈，例如：

- 高频读写共享资源
- 缓存命中率低

针对这些问题，我们做了以下优化：

- 实现实例动态扩容与缩容，保障高并发承载能力
- 优化内存使用，提升资源利用率

---

## 技术之外的思考：运动、艺术与心理学的融合

我相信，优秀的技术人不应只局限于代码世界。我热爱棒球、网球和健身，这些运动教会了我团队协作和坚持不懈的精神。

- 在健身房，我享受肌肉拉伸的感觉；
- 在网球场上，我感受奔跑与挥拍的力量。

系统思维的锻炼不仅来自于代码设计，也来自于理解用户心理和审美需求。韧性和问题解决能力既在调试复杂 BUG 时需要，也在面对人生挑战时不可或缺。

---

## 结语

人生是旷野，不是轨道。无论是技术创业、系统优化，还是运动、艺术与心理学，都是我探索这个世界的方式。我希望通过这个博客，分享我在这些领域的思考和实践，与更多同频的人一起成长。

如果你对技术、AI、创业、运动，甚至书籍、心理、艺术感兴趣，欢迎常来我的博客逛逛～期待与你交流！

---

**欢迎在评论区留言或通过邮件与我联系！** 📩